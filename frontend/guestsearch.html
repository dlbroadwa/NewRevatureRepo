
<script>
//@requires jQuery v1.2


jQuery(function($) {
   var nextID = 0;
   var pendingcallbacks = {};
   function ebaycallback(root) {
     callback = pendingcallbacks[root.CorrelationID];
     if (callback) {
       pendingcallbacks[root.CorrelationID] = undefined;
       callback(root);
     }
   }

   $.ebay = $.extend({
     appid: "<appid required>",
     endpointURL: "http://open.api.ebay.com/shopping",
     siteid: 0, // The US
     call: function (callname, arguments, callback) {
       if ($.ebay.appid == "<appid required>") {
         console.error("eBay Shopping API jQuery plugin requires that $.ebay.appid be set before an calls are made");
       }
       var messageid = "jqueryebayshoppingapi" + (nextID++);
       // Set up the callback
       pendingcallbacks[messageid] = callback;
       window["_cb_" + callname] = ebaycallback;
       // Make the call
       arguments = $.extend({callname: callname,
                             appid: $.ebay.appid,
                             version: 517,
                             siteid: $.ebay.siteid,
                             MessageID: messageid,
                             responseencoding: "JSON",
                             callback: "true"}, arguments);
       $.ajax({url: $.ebay.endpointURL, dataType: "script", cache: true, data: arguments});

       // var encodedparams = [];
       // $.each(arguments, function (key,value) {
       //   encodedparams[encodedparams.length] =  (key + "=" + escape(value));
       // })
       // var url = $.ebay.endpointURL + "?" + encodedparams.join("&");
       // $.getScript(url);
     }}, $.ebay || {});
});

</script>





















<!-- <!DOCTYPE html>
<html>
<head>
<title>eBay Search Results</title>
<meta charset=UTF-8>
</head>
<body>
<h1>eBay Search Results</h1>
<div id="results"></div> -->
<!-- <script set X-Content-Type-Options: nosniff>
    // Parse the response and build an HTML table to display search results
function _cb_findItemsByKeywords(root) {
  var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];
  var html = [];
  html.push('<table width="100%" border="0" cellspacing="0" cellpadding="3"><tbody>');
  for (var i = 0; i < items.length; ++i) {
    var item     = items[i];
    var title    = item.title;
    var pic      = item.galleryURL;
    var viewitem = item.viewItemURL;
    if (null != title && null != viewitem) {
      html.push('<tr><td>' + '<img src="' + pic + '" border="0">' + '</td>' +
      '<td><a href="' + viewitem + '" target="_blank">' + title + '</a></td></tr>');
    }
  }
  html.push('</tbody></table>');
  document.getElementById("results").innerHTML = html.join("");
}  // End _cb_findItemsByKeywords() function
// Create a JavaScript array of the item filters you want to use in your request
var filterarray = [
  {"name":"MaxPrice",
   "value":"25",
   "paramName":"Currency",
   "paramValue":"USD"},
  {"name":"FreeShippingOnly",
   "value":"true",
   "paramName":"",
   "paramValue":""},
  {"name":"ListingType",
   "value":["AuctionWithBIN", "FixedPrice"],
   "paramName":"",
   "paramValue":""},
  ];
  // Define global variable for the URL filter
var urlfilter = "";
//Generates an indexed URL snippet from the array of item filters
function  buildURLArray() {
  // Iterate through each filter in the array
  for(var i=0; i<filterarray.length; i++) {
    //Index each item filter in filterarray
    var itemfilter = filterarray[i];
    // Iterate through each parameter in each item filter
    for(var index in itemfilter) {
      // Check to see if the paramter has a value (some don't)
      if (itemfilter[index] !== "") {
        if (itemfilter[index] instanceof Array) {
          for(var r=0; r<itemfilter[index].length; r++) {
          var value = itemfilter[index][r];
          urlfilter += "&itemFilter\(" + i + "\)." + index + "\(" + r + "\)=" + value ;
          }
        }
        else {
          urlfilter += "&itemFilter\(" + i + "\)." + index + "=" + itemfilter[index];
        }
      }
    }
  }
}  // End buildURLArray() function

// Execute the function to build the URL filter
buildURLArray(filterarray);
    // Construct the request
//Replace MyAppID with your Production AppID
var url = "https://svcs.ebay.com/services/search/FindingService/v1";
    url += "?OPERATION-NAME=findItemsByKeywords";
    url += "&SERVICE-VERSION=1.0.0";
    url += "&SECURITY-APPNAME=JeanAldo-JNJMusic-PRD-9c51f635b-4e562705";
    url += "&GLOBAL-ID=EBAY-US";
    url += "&RESPONSE-DATA-FORMAT=JSON";
    url += "&callback=_cb_findItemsByKeywords";
    url += "&REST-PAYLOAD";
    url += "&keywords=harry";
    url += "&paginationInput.entriesPerPage=3";
    //url += urlfilter;
    // Submit the request
s=document.createElement('script'); // create script element
s.src= url;
document.body.appendChild(s);


</script> -->
<!-- <script>
    function getItems(response)
    {
        console.log(response);
        var item;
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function()
        {
    
            if (xmlhttp.readyState == XMLHttpRequest.DONE)
            {
                response = JSON.parse(xmlhttp.responseText);
                console.log(response);
            }
            else if (xmlhttp.status == 400)
            {
            alert("Error");
            }
            else 
            {
                alert("Non 400 error");
            }
        }
        xmlhttp.open("POST", url)
        xmlhttp.send();
    }
    // var url = "https://svcs.ebay.com/services/search/FindingService/v1";
    // url += "?OPERATION-NAME=findItemsByKeywords";
    // url += "&SERVICE-VERSION=1.0.0";
    // url += "&SECURITY-APPNAME=JeanAldo-JNJMusic-PRD-9c51f635b-4e562705";
    // url += "&GLOBAL-ID=EBAY-US";
    // url += "&RESPONSE-DATA-FORMAT=JSON";
    // url += "&callback=getItems";
    // url += "&REST-PAYLOAD";
    // url += "&keywords=harry";
    // url += "&paginationInput.entriesPerPage=3";
    // url += "callback=?"
    var url = 'https://svcs.ebay.com/services/search/FindingService/v1?OPERATION-NAME=findItemsByKeywords'+
  '&SERVICE-NAME=FindingService'+
  '&SERVICE-VERSION=1.0.0'+
  '&GLOBAL-ID=EBAY-US'+
  '&SECURITY-APPNAME=JeanAldo-JNJMusic-PRD-9c51f635b-4e562705'+
  '&RESPONSE-DATA-FORMAT=XML'

    getItems();
    
</script>
    

</body>
</html> -->





















<!-- <!DOCTYPE html>
<html lang="en">
<head>
<title>eBay Search Results</title>
<style type="text/css">body { font-family: arial,sans-serif;} </style>
</head>
<body>
<h1>eBay Search Results</h1>
<div id="results"></div>

<script>
    const OPERATION_NAME = "findItemsByKeywords";
    function _cb_findItemsByKeywords(root) {  
    var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];
    var html = [];
    html.push('<table width="100%" border="0" cellspacing="0" cellpadding="3"><tbody>');
    alert(items.length)
    for (var i = 0; i < items.length; ++i) {
      var item     = items[i];
      var title    = item.title;
      var pic      = item.galleryURL;
      var viewitem = item.viewItemURL;
      if (null != title && null != viewitem) {
        html.push('<tr><td>' + '<img src="' + pic + '" border="0">' + '</td>' +
        '<td><a href="' + viewitem + '" target="_blank">' + title + '</a></td></tr>');
      }
    }
    html.push('</tbody></table>');
    document.getElementById("results").innerHTML = html.join("");
}  // End _cb_findItemsByKeywords() function
var filterarray = [
  {"name":"MaxPrice",
   "value":"25",
   "paramName":"Currency",
   "paramValue":"USD"},
  {"name":"FreeShippingOnly",
   "value":"true",
   "paramName":"",
   "paramValue":""},
  {"name":"ListingType",
   "value":["AuctionWithBIN", "FixedPrice"],
   "paramName":"",
   "paramValue":""},
  ];
  var urlfilter = "";
  // Generates an indexed URL snippet from the array of item filters
function  buildURLArray() {
  // Iterate through each filter in the array
  for(var i=0; i<filterarray.length; i++) {
    //Index each item filter in filterarray
    var itemfilter = filterarray[i];
    // Iterate through each parameter in each item filter
    for(var index in itemfilter) {
      // Check to see if the paramter has a value (some don't)
      if (itemfilter[index] !== "") {
        if (itemfilter[index] instanceof Array) {
          for(var r=0; r<itemfilter[index].length; r++) {
          var value = itemfilter[index][r];
          urlfilter += "&itemFilter\(" + i + "\)." + index + "\(" + r + "\)=" + value ;
          }
        }
        else {
          urlfilter += "&itemFilter\(" + i + "\)." + index + "=" + itemfilter[index];
        }
      }
    }
  }
}  // End buildURLArray() function

// Execute the function to build the URL filter
buildURLArray(filterarray);

    var url = "http://svcs.ebay.com/services/search/FindingService/v1";
    url += "?OPERATION-NAME="+OPERATION_NAME;
    url += "&SERVICE-VERSION=1.0.0";
    url += "&SECURITY-APPNAME=JeanAldo-JNJMusic-PRD-9c51f635b-4e562705";
    url += "&GLOBAL-ID=EBAY-US";
    url += "&RESPONSE-DATA-FORMAT=JSON";
    url += "&callback=_cb_findItemsByKeywords";
    url += "&REST-PAYLOAD";
    url += "&keywords=harry%20potter";
    url += "&paginationInput.entriesPerPage=3";
    url += urlfilter;
    s=document.createElement('script'); // create script element
    s.src= url;

</script>

</body>
</html> -->